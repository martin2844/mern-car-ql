(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,a){e.exports=a(204)},133:function(e,t,a){},135:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),i=(a(133),a(30)),u=a(31),m=a(33),s=a(32),o=a(35),d=a(42),p=a(6),b=a(207),f=a(206),y=(a(134),a(135),a(40)),h=a(57);function E(){var e=Object(h.a)(["\n\nquery($id: ID){\n    car(id: $id){\n        id\n        model\n        type\n        manufactureDate\n        maker {\n            name\n            foundedDate\n            country\n            id\n            cars {\n                model\n                type\n            }\n        }\n    }\n}\n"]);return E=function(){return e},e}function v(){var e=Object(h.a)(["\nmutation($model: String!, $type: String!, $manufactureDate: Int!, $makeId: ID!) {\n    addCar(model: $model, type: $type, manufactureDate:$manufactureDate, makeId: $makeId) {\n        model\n        id\n    }\n}\n"]);return v=function(){return e},e}function k(){var e=Object(h.a)(["\n    {\n        cars {\n            maker {\n              name\n            }\n            model\n            type\n            manufactureDate\n            id\n          }\n    }\n"]);return k=function(){return e},e}function O(){var e=Object(h.a)(["\n\n{\n    makes {\n        name\n        id\n        country\n    }\n}\n\n"]);return O=function(){return e},e}var j=Object(d.b)(O()),g=Object(d.b)(k()),C=Object(d.b)(v()),D=Object(d.b)(E()),I=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(u.a)(t,[{key:"displayCarDetails",value:function(){var e=this.props.data.car;return e?r.a.createElement("div",null,r.a.createElement("h2",null,e.maker.name," ",e.model),r.a.createElement("p",null,e.manufactureDate," ",e.type),r.a.createElement("p",null,e.maker.name," is a brand from ",e.maker.country,", founded in ",e.maker.foundedDate),r.a.createElement("p",null,"Other Cars:"),r.a.createElement("ul",{className:"other-cars"},e.maker.cars.map((function(e){return r.a.createElement("li",{key:e.id},e.model," - ",e.type)})))):r.a.createElement("div",null,"Select a car!")}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{id:"book-details"},this.displayCarDetails())}}]),t}(n.Component),N=Object(y.a)(D,{options:function(e){return{variables:{id:e.carId}}}})(I),$=a(205),M=a(208),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(s.a)(t).call(this,e))).state={selected:null},a}return Object(o.a)(t,e),Object(u.a)(t,[{key:"displayCars",value:function(){var e=this,t=this.props.data;return t.loading?r.a.createElement($.a,{style:{margin:"0 auto",display:"block"},size:"large"}):t.cars.map((function(t){return r.a.createElement(M.a,{style:{margin:"20px"},onClick:function(a){e.setState({selected:t.id})},key:t.id},t.model)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"car-list"},r.a.createElement("div",null,this.displayCars()),r.a.createElement(f.a,null),r.a.createElement(N,{carId:this.state.selected}))}}]),t}(n.Component),w=Object(y.a)(g)(S),x=a(118),q=a.n(x),F=a(25),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(s.a)(t).call(this,e))).state={model:"",type:"",manufactureDate:"",makeId:""},a}return Object(o.a)(t,e),Object(u.a)(t,[{key:"displayMakes",value:function(){var e=this.props.getMakeQuery;return e.loading?r.a.createElement("option",{disabled:!0},"loading makes"):e.makes.map((function(e){return r.a.createElement("option",{className:"ant-select-dropdown-menu-item",key:e.id,value:e.id},e.name)}))}},{key:"submitForm",value:function(e){e.preventDefault(),console.log(this.state),this.props.addCarMutation({variables:{model:this.state.model,type:this.state.type,manufactureDate:parseInt(this.state.manufactureDate),makeId:this.state.makeId},refetchQueries:[{query:g}]})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,null),r.a.createElement("h1",null,"Add a car!"),r.a.createElement("form",{onSubmit:this.submitForm.bind(this),id:"add-car"},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Car Model:"),r.a.createElement("input",{className:"ant-input",type:"text",onChange:function(t){return e.setState({model:t.target.value})}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Car type:"),r.a.createElement("input",{className:"ant-input",type:"text",onChange:function(t){return e.setState({type:t.target.value})}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Car manufacture date:"),r.a.createElement("input",{className:"ant-input",type:"number",onChange:function(t){return e.setState({manufactureDate:t.target.value})}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Make"),r.a.createElement("select",{className:"ant-select ant-select-selected ant-input",onChange:function(t){return e.setState({makeId:t.target.value})}},r.a.createElement("option",{className:"ant-select-dropdown-menu-item-group"},"select make"),this.displayMakes())),r.a.createElement("button",{className:"ant-btn ant-btn-primary ant-btn-circle ant-btn-lg ant-btn-icon-only",style:{marginTop:"20px"},type:"primary",shape:"circle"},r.a.createElement(F.a,{type:"plus"}))))}}]),t}(n.Component),J=q()(Object(y.a)(j,{name:"getMakeQuery"}),Object(y.a)(C,{name:"addCarMutation"}))(Q),T=new d.a({uri:"https://car-graphql.herokuapp.com/graphql"}),z=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=b.a.Title;return r.a.createElement(p.b,{client:T},r.a.createElement("div",{id:"main"},r.a.createElement(e,{level:1},"My Favourite Cars"),r.a.createElement(f.a,null),r.a.createElement(w,null),r.a.createElement(J,null)))}}]),t}(r.a.Component);c.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.e3acce21.chunk.js.map